<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<meta name="viewport" content="width=device-width, initial-scale=1">
		<title>Smart contracts in human language - Zenroom docs</title>
		<meta name="description" content="Zenroom is a portable and independent virtual machine for secure cryptographic operations. Zencode is the name of the language executed by Zenroom: it is simple to understand and can process large data structures while operating cryptographic transformations on them." />
		<meta name="keywords" content="crypto, security, iot, blockchain" />
		<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
		<meta property="og:title" content="Smart contracts in human language" />
		<meta property="og:description" content="Zenroom is a portable and independent virtual machine for secure cryptographic operations. Zencode is the name of the language executed by Zenroom: it is simple to understand and can process large data structures while operating cryptographic transformations on them." />
		<meta property="og:type" content="website" />
		<meta property="og:url" content="https://dev.zenroom.org" />
		<meta name="twitter:card" content="summary_large_image">
		<meta name="twitter:site" content="@DyneOrg">
		<meta name="twitter:title" content="Smart contracts in human language">
		<meta name="twitter:description" content="Zenroom is a portable and independent virtual machine for secure cryptographic operations. Zencode is the name of the language executed by Zenroom: it is simple to understand and can process large data structures while operating cryptographic transformations on them.">

		<link rel="stylesheet" href="../assets/css/bulma.min.css">
		<link rel="stylesheet" href="../assets/css/bulma-dyne.css">
		<link rel="stylesheet" href="../assets/css/materialdesignicons.min.css">
		<link rel="stylesheet" href="../assets/css/codehilite.css">

		
		<script type="text/javascript" src="../js/cash.min.js"></script>
		

		
		<link rel="stylesheet" href="../css/montserrat.css">
		
		<link rel="stylesheet" href="../css/custom.css">
		

		

		

	</head>

	<body>
		<nav class="navbar has-shadow is-transparent">
    <div class="navbar-brand">
        <a class="navbar-item" href="..">
			
			<img src="../img/zenroom_logo.jpg">
			
        </a>
    </div>
	
	<div id="navbarExampleTransparentExample" class="navbar-menu">
        <div class="navbar-start">
			<div class="navbar-item">
				Zenroom: portable, secure and independent crypto language
			</div>
		</div>
	</div>
	
        <div class="navbar-end">
            <div class="navbar-item">
                <div class="field is-grouped">
                    <p class="control">
                        <a href="https://dyne.org">
							<!-- https://img.shields.io/badge/made%20with%20%E2%9D%A4%20by-Dyne.org-turquoise.svg?style=for-the-badge&logo=gnu -->
                            <img src="../assets/img/made_by_dyne.svg" alt="Made with love by Dyne.org" title="We are free to share code and we code to share Freedom"></a>
                    </p>
                </div>
            </div>
        </div>
    </div>
</nav>
		<section class="section">
			<div class="container">
				<div class="columns">
					<div class="column is-one-quarter">
						<aside class="menu">
    
    <h1 class="menu-label">
        <span class="mdi mdi-fire has-text-danger"></span> Quick Links</h1>
    <ul class="menu-list" style="list-style: none">
        
        <li><span class="mdi mdi-home"></span><a href="https://zenroom.org">Home</a></li>
        

        
        <li><span class="mdi mdi-book-open-page-variant"></span><a href="https://dev.zenroom.org">Documentation</a></li>
        

        
        <li><span class="mdi mdi-download"></span><a href="/#download">Download</a></li>
        
        
        <li><span class="mdi mdi-github-circle"></span><a href="https://github.com/decodeproject/Zenroom/">Source Code</a></li>
        
        
        

        
        <li><span class="mdi mdi-history"></span><a href="/changelog">Log of changes</a></li>
        

        
        <li><span class="mdi mdi-account-edit"></span><a href="https://github.com/decodeproject/zenroom/wiki">Wiki</a></li>
        

        
    </ul>
    

    <hr width="20%">

    <h1 class="menu-label">
        <span class="mdi mdi-format-list-numbered has-text-primary"></span> Table of Contents</h1>
    <ul class="menu-list">
        
        <li>
            <a href="#smart-contracts-in-human-language">Smart contracts in human language</a>
            
        </li>
        
        <li>
            <a href="#memory-model">Memory model</a>
            
                
  <ul>
    
      <li><a href="#given">Given</a></li>
      
    
      <li><a href="#when">When</a></li>
      
    
      <li><a href="#then">Then</a></li>
      
    
  </ul>

            
        </li>
        
        <li>
            <a href="#symmetric-encryption">Symmetric encryption</a>
            
        </li>
        
        <li>
            <a href="#asymmetric-encryption">Asymmetric encryption</a>
            
                
  <ul>
    
      <li><a href="#key-generation-and-exchange">Key generation and exchange</a></li>
      
    
      <li><a href="#public-key-encryption-ecdh">Public-key Encryption (ECDH)</a></li>
      
    
      <li><a href="#public-key-signature-ecdsa">Public-key Signature (ECDSA)</a></li>
      
    
  </ul>

            
        </li>
        
        <li>
            <a href="#zero-knowledge-proofs">Zero Knowledge Proofs</a>
            
                
  <ul>
    
      <li><a href="#attribute-based-credentials">Attribute Based Credentials</a></li>
      
    
  </ul>

            
        </li>
        
        <li>
            <a href="#full-list-of-statements">Full list of statements</a>
            
        </li>
        
    </ul>
</aside>
					</div>
					<div class="column">
						
						<div class="content">
							 <h1 id="smart-contracts-in-human-language">Smart contracts in human language</h1>
<p>Zenroom is software inspired by the <a href="http://langsec.org">language-theoretical
security</a> research and it allows to express
cryptographic operations in a readable domain-specific language called
<strong>Zencode</strong>.</p>
<p>For an explanation of the innovation brought by Zencode see this blog post: <a href="https://decodeproject.eu/blog/smart-contracts-english-speaker">Smart contracts for the English speaker</a>.</p>
<p>Now to learn this very simple language, lets dive into some examples.</p>
<p>Keep in mind that statements in yellow boxes are actual Zencode being executed.</p>
<h1 id="memory-model">Memory model</h1>
<p>Zencode contracts operate in 3 phases:</p>
<ol>
<li><strong>Given</strong> - validates the input</li>
<li><strong>When</strong> - processes the contents</li>
<li><strong>Then</strong> - prints out the results</li>
</ol>
<p>The 3 separate blocks of code also correspond to 3 separate memory areas, sealed by some security measures.</p>
<p><img alt="Zencode documentation diagram" src="../img/zencode_diagram.png" /></p>
<p>All data processed has first to pass the validation phase according to scenario specific data schemas.</p>
<p><strong>Good Practice</strong>: start your Zencode noting down the Zenroom version you are using!</p>
<div class="codehilite"><pre><span class="n">rule</span> <span class="n">check</span> <span class="n">version</span> <span class="mf">1.0.0</span>
</pre></div>


<h2 id="given">Given</h2>
<p>Data provided as input (from <strong>data</strong> and <strong>keys</strong>) is all imported
automatically from JSON or CBOR binary formats.</p>
<p>Here below a dense representation of the main operations available.</p>
<p><strong>Self introduction</strong> (affects "<strong>my</strong>" statements)</p>
<div class="codehilite"><pre><span class="l-Scalar-Plain">given</span><span class="p-Indicator">:</span>
  <span class="p-Indicator">-</span> <span class="p-Indicator">{</span><span class="nv">given</span><span class="p-Indicator">:</span> <span class="nv">nothing</span><span class="p-Indicator">}</span> <span class="c1"># checks input is really empty</span>
  <span class="p-Indicator">-</span> <span class="p-Indicator">{</span><span class="nv">given</span><span class="p-Indicator">:</span> <span class="s">&#39;I</span><span class="nv"> </span><span class="s">introduce</span><span class="nv"> </span><span class="s">myself</span><span class="nv"> </span><span class="s">as</span><span class="nv"> </span><span class="se">&#39;&#39;&#39;&#39;</span><span class="s">&#39;</span><span class="p-Indicator">}</span> <span class="c1"># open a section { &quot;WhoAmI&quot;: ... }</span>
  <span class="p-Indicator">-</span> <span class="p-Indicator">{</span><span class="nv">given</span><span class="p-Indicator">:</span> <span class="s">&#39;I</span><span class="nv"> </span><span class="s">am</span><span class="nv"> </span><span class="s">known</span><span class="nv"> </span><span class="s">as</span><span class="nv"> </span><span class="se">&#39;&#39;&#39;&#39;</span><span class="s">&#39;</span><span class="p-Indicator">}</span> <span class="c1"># same as above</span>
  <span class="p-Indicator">-</span> <span class="p-Indicator">{</span><span class="nv">given</span><span class="p-Indicator">:</span> <span class="s">&#39;I</span><span class="nv"> </span><span class="s">am</span><span class="nv"> </span><span class="se">&#39;&#39;&#39;&#39;</span><span class="s">&#39;</span><span class="p-Indicator">}</span> <span class="c1"># same as above</span>
</pre></div>


<p><strong>Import given data</strong></p>
<div class="codehilite"><pre>  <span class="p-Indicator">-</span> <span class="p-Indicator">{</span><span class="nv">given</span><span class="p-Indicator">:</span> <span class="s">&#39;I</span><span class="nv"> </span><span class="s">have</span><span class="nv"> </span><span class="s">a</span><span class="nv"> </span><span class="se">&#39;&#39;&#39;&#39;</span><span class="s">&#39;</span><span class="p-Indicator">}</span> <span class="c1"># import data named without validation</span>
  <span class="p-Indicator">-</span> <span class="p-Indicator">{</span><span class="nv">given</span><span class="p-Indicator">:</span> <span class="s">&#39;I</span><span class="nv"> </span><span class="s">have</span><span class="nv"> </span><span class="s">my</span><span class="nv"> </span><span class="se">&#39;&#39;&#39;&#39;</span><span class="s">&#39;</span><span class="p-Indicator">}</span> <span class="c1"># import data named under my section without validation</span>
  <span class="p-Indicator">-</span> <span class="p-Indicator">{</span><span class="nv">given</span><span class="p-Indicator">:</span> <span class="s">&#39;I</span><span class="nv"> </span><span class="s">have</span><span class="nv"> </span><span class="s">inside</span><span class="nv"> </span><span class="se">&#39;&#39;&#39;&#39;</span><span class="nv"> </span><span class="s">a</span><span class="nv"> </span><span class="se">&#39;&#39;&#39;&#39;</span><span class="s">&#39;</span><span class="p-Indicator">}</span> <span class="c1"># import data from inside a section</span>
  <span class="p-Indicator">-</span> <span class="p-Indicator">{</span><span class="nv">given</span><span class="p-Indicator">:</span> <span class="s">&#39;I</span><span class="nv"> </span><span class="s">have</span><span class="nv"> </span><span class="s">a</span><span class="nv"> </span><span class="se">&#39;&#39;&#39;&#39;</span><span class="nv"> </span><span class="s">inside</span><span class="nv"> </span><span class="se">&#39;&#39;&#39;&#39;</span><span class="s">&#39;</span><span class="p-Indicator">}</span> <span class="c1"># different statement, invert order of arguments</span>
  <span class="p-Indicator">-</span> <span class="p-Indicator">{</span><span class="nv">given</span><span class="p-Indicator">:</span> <span class="s">&#39;I</span><span class="nv"> </span><span class="s">have</span><span class="nv"> </span><span class="s">a</span><span class="nv"> </span><span class="se">&#39;&#39;&#39;&#39;</span><span class="nv"> </span><span class="s">in</span><span class="nv"> </span><span class="se">&#39;&#39;&#39;&#39;</span><span class="s">&#39;</span><span class="p-Indicator">}</span>     <span class="c1"># courtesy synonyms ...</span>
  <span class="p-Indicator">-</span> <span class="p-Indicator">{</span><span class="nv">given</span><span class="p-Indicator">:</span> <span class="s">&#39;I</span><span class="nv"> </span><span class="s">have</span><span class="nv"> </span><span class="s">a</span><span class="nv"> </span><span class="se">&#39;&#39;&#39;&#39;</span><span class="nv"> </span><span class="s">from</span><span class="nv"> </span><span class="se">&#39;&#39;&#39;&#39;</span><span class="s">&#39;</span><span class="p-Indicator">}</span>   <span class="c1"># ... are the same</span>
</pre></div>


<p><strong>Import only "valid" data</strong> (schemas are set by the "<strong>scenario</strong>")</p>
<div class="codehilite"><pre>  <span class="p-Indicator">-</span> <span class="p-Indicator">{</span><span class="nv">given</span><span class="p-Indicator">:</span> <span class="s">&#39;I</span><span class="nv"> </span><span class="s">have</span><span class="nv"> </span><span class="s">a</span><span class="nv"> </span><span class="s">valid</span><span class="nv"> </span><span class="se">&#39;&#39;&#39;&#39;</span><span class="s">&#39;</span><span class="p-Indicator">}</span> <span class="c1"># import data named validated with same name schema</span>
  <span class="p-Indicator">-</span> <span class="p-Indicator">{</span><span class="nv">given</span><span class="p-Indicator">:</span> <span class="s">&#39;I</span><span class="nv"> </span><span class="s">have</span><span class="nv"> </span><span class="s">my</span><span class="nv"> </span><span class="s">valid</span><span class="nv"> </span><span class="se">&#39;&#39;&#39;&#39;</span><span class="s">&#39;</span><span class="p-Indicator">}</span> <span class="c1"># import data named validated under my section</span>
  <span class="p-Indicator">-</span> <span class="p-Indicator">{</span><span class="nv">given</span><span class="p-Indicator">:</span> <span class="s">&#39;I</span><span class="nv"> </span><span class="s">have</span><span class="nv"> </span><span class="s">inside</span><span class="nv"> </span><span class="se">&#39;&#39;&#39;&#39;</span><span class="nv"> </span><span class="s">a</span><span class="nv"> </span><span class="s">valid</span><span class="nv"> </span><span class="se">&#39;&#39;&#39;&#39;</span><span class="s">&#39;</span><span class="p-Indicator">}</span> <span class="c1"># import validated data from inside a section </span>
  <span class="p-Indicator">-</span> <span class="p-Indicator">{</span><span class="nv">given</span><span class="p-Indicator">:</span> <span class="s">&#39;I</span><span class="nv"> </span><span class="s">have</span><span class="nv"> </span><span class="s">a</span><span class="nv"> </span><span class="s">valid</span><span class="nv"> </span><span class="se">&#39;&#39;&#39;&#39;</span><span class="nv"> </span><span class="s">inside</span><span class="nv"> </span><span class="se">&#39;&#39;&#39;&#39;</span><span class="s">&#39;</span><span class="p-Indicator">}</span> <span class="c1"># same as above, inverted order of arguments</span>
  <span class="p-Indicator">-</span> <span class="p-Indicator">{</span><span class="nv">given</span><span class="p-Indicator">:</span> <span class="s">&#39;I</span><span class="nv"> </span><span class="s">have</span><span class="nv"> </span><span class="s">a</span><span class="nv"> </span><span class="s">valid</span><span class="nv"> </span><span class="se">&#39;&#39;&#39;&#39;</span><span class="nv"> </span><span class="s">in</span><span class="nv"> </span><span class="se">&#39;&#39;&#39;&#39;</span><span class="s">&#39;</span><span class="p-Indicator">}</span> <span class="c1"># same as above</span>
  <span class="p-Indicator">-</span> <span class="p-Indicator">{</span><span class="nv">given</span><span class="p-Indicator">:</span> <span class="s">&#39;I</span><span class="nv"> </span><span class="s">have</span><span class="nv"> </span><span class="s">a</span><span class="nv"> </span><span class="s">valid</span><span class="nv"> </span><span class="se">&#39;&#39;&#39;&#39;</span><span class="nv"> </span><span class="s">from</span><span class="nv"> </span><span class="se">&#39;&#39;&#39;&#39;</span><span class="s">&#39;</span><span class="p-Indicator">}</span> <span class="c1"># same as above (courtesy synonyms)</span>
  <span class="p-Indicator">-</span> <span class="p-Indicator">{</span><span class="nv">given</span><span class="p-Indicator">:</span> <span class="s">&#39;the</span><span class="nv"> </span><span class="se">&#39;&#39;&#39;&#39;</span><span class="nv"> </span><span class="s">is</span><span class="nv"> </span><span class="s">valid&#39;</span><span class="p-Indicator">}</span> <span class="c1"># validate an already imported data object</span>
</pre></div>


<p>Settings:</p>
<div class="codehilite"><pre><span class="n">rule</span> <span class="n">input</span> <span class="n">encoding</span> <span class="p">[</span> <span class="n">url64</span> <span class="o">|</span> <span class="n">base64</span> <span class="o">|</span> <span class="n">hex</span> <span class="o">|</span> <span class="n">bin</span> <span class="p">]</span>
<span class="n">rule</span> <span class="n">input</span> <span class="n">format</span> <span class="p">[</span> <span class="n">json</span> <span class="o">|</span> <span class="n">cbor</span> <span class="p">]</span>
</pre></div>


<h2 id="when">When</h2>
<p>Processing data is done in the when block. Also scenarios add statements to this block.</p>
<p>Without extensions, these are the basic functions available</p>
<div class="codehilite"><pre><span class="l-Scalar-Plain">when</span><span class="p-Indicator">:</span>
  <span class="p-Indicator">-</span> <span class="p-Indicator">{</span><span class="nv">when</span><span class="p-Indicator">:</span> <span class="s">&#39;I</span><span class="nv"> </span><span class="s">append</span><span class="nv"> </span><span class="se">&#39;&#39;&#39;&#39;</span><span class="nv"> </span><span class="s">to</span><span class="nv"> </span><span class="se">&#39;&#39;&#39;&#39;</span><span class="s">&#39;</span><span class="p-Indicator">}</span>
  <span class="p-Indicator">-</span> <span class="p-Indicator">{</span><span class="nv">when</span><span class="p-Indicator">:</span> <span class="s">&#39;I</span><span class="nv"> </span><span class="s">write</span><span class="nv"> </span><span class="se">&#39;&#39;&#39;&#39;</span><span class="nv"> </span><span class="s">in</span><span class="nv"> </span><span class="se">&#39;&#39;&#39;&#39;</span><span class="s">&#39;</span><span class="p-Indicator">}</span>
  <span class="p-Indicator">-</span> <span class="p-Indicator">{</span><span class="nv">when</span><span class="p-Indicator">:</span> <span class="s">&#39;I</span><span class="nv"> </span><span class="s">set</span><span class="nv"> </span><span class="se">&#39;&#39;&#39;&#39;</span><span class="nv"> </span><span class="s">to</span><span class="nv"> </span><span class="se">&#39;&#39;&#39;&#39;</span><span class="s">&#39;</span><span class="p-Indicator">}</span>
  <span class="p-Indicator">-</span> <span class="p-Indicator">{</span><span class="nv">when</span><span class="p-Indicator">:</span> <span class="s">&#39;I</span><span class="nv"> </span><span class="s">create</span><span class="nv"> </span><span class="s">a</span><span class="nv"> </span><span class="s">random</span><span class="nv"> </span><span class="se">&#39;&#39;&#39;&#39;</span><span class="s">&#39;</span><span class="p-Indicator">}</span>
  <span class="p-Indicator">-</span> <span class="p-Indicator">{</span><span class="nv">when</span><span class="p-Indicator">:</span> <span class="s">&#39;I</span><span class="nv"> </span><span class="s">create</span><span class="nv"> </span><span class="s">a</span><span class="nv"> </span><span class="s">random</span><span class="nv"> </span><span class="s">array</span><span class="nv"> </span><span class="s">of</span><span class="nv"> </span><span class="se">&#39;&#39;&#39;&#39;</span><span class="nv"> </span><span class="s">elements&#39;</span><span class="p-Indicator">}</span>
  <span class="p-Indicator">-</span> <span class="p-Indicator">{</span><span class="nv">when</span><span class="p-Indicator">:</span> <span class="s">&#39;I</span><span class="nv"> </span><span class="s">create</span><span class="nv"> </span><span class="s">a</span><span class="nv"> </span><span class="s">random</span><span class="nv"> </span><span class="se">&#39;&#39;&#39;&#39;</span><span class="nv"> </span><span class="s">bit</span><span class="nv"> </span><span class="s">array</span><span class="nv"> </span><span class="s">of</span><span class="nv"> </span><span class="se">&#39;&#39;&#39;&#39;</span><span class="nv"> </span><span class="s">elements&#39;</span><span class="p-Indicator">}</span>
  <span class="p-Indicator">-</span> <span class="p-Indicator">{</span><span class="nv">when</span><span class="p-Indicator">:</span> <span class="s">&#39;I</span><span class="nv"> </span><span class="s">set</span><span class="nv"> </span><span class="se">&#39;&#39;&#39;&#39;</span><span class="nv"> </span><span class="s">as</span><span class="nv"> </span><span class="se">&#39;&#39;&#39;&#39;</span><span class="nv"> </span><span class="s">with</span><span class="nv"> </span><span class="se">&#39;&#39;&#39;&#39;</span><span class="s">&#39;</span><span class="p-Indicator">}</span>
  <span class="p-Indicator">-</span> <span class="p-Indicator">{</span><span class="nv">when</span><span class="p-Indicator">:</span> <span class="s">&#39;I</span><span class="nv"> </span><span class="s">append</span><span class="nv"> </span><span class="se">&#39;&#39;&#39;&#39;</span><span class="nv"> </span><span class="s">as</span><span class="nv"> </span><span class="se">&#39;&#39;&#39;&#39;</span><span class="nv"> </span><span class="s">to</span><span class="nv"> </span><span class="se">&#39;&#39;&#39;&#39;</span><span class="s">&#39;</span><span class="p-Indicator">}</span>
  <span class="p-Indicator">-</span> <span class="p-Indicator">{</span><span class="nv">when</span><span class="p-Indicator">:</span> <span class="s">&#39;I</span><span class="nv"> </span><span class="s">write</span><span class="nv"> </span><span class="se">&#39;&#39;&#39;&#39;</span><span class="nv"> </span><span class="s">as</span><span class="nv"> </span><span class="se">&#39;&#39;&#39;&#39;</span><span class="nv"> </span><span class="s">in</span><span class="nv"> </span><span class="se">&#39;&#39;&#39;&#39;</span><span class="s">&#39;</span><span class="p-Indicator">}</span>
</pre></div>


<h2 id="then">Then</h2>
<p>Output is all exported in JSON or CBOR</p>
<div class="codehilite"><pre><span class="l-Scalar-Plain">then</span><span class="p-Indicator">:</span>
  <span class="p-Indicator">-</span> <span class="p-Indicator">{</span><span class="nv">then</span><span class="p-Indicator">:</span> <span class="s">&#39;print</span><span class="nv"> </span><span class="se">&#39;&#39;&#39;&#39;</span><span class="nv"> </span><span class="se">&#39;&#39;&#39;&#39;</span><span class="s">&#39;</span><span class="p-Indicator">}</span>
  <span class="p-Indicator">-</span> <span class="p-Indicator">{</span><span class="nv">then</span><span class="p-Indicator">:</span> <span class="s">&#39;print</span><span class="nv"> </span><span class="s">all</span><span class="nv"> </span><span class="s">data&#39;</span><span class="p-Indicator">}</span>
  <span class="p-Indicator">-</span> <span class="p-Indicator">{</span><span class="nv">then</span><span class="p-Indicator">:</span> <span class="s">&#39;print</span><span class="nv"> </span><span class="s">my</span><span class="nv"> </span><span class="s">data&#39;</span><span class="p-Indicator">}</span>
  <span class="p-Indicator">-</span> <span class="p-Indicator">{</span><span class="nv">then</span><span class="p-Indicator">:</span> <span class="s">&#39;print</span><span class="nv"> </span><span class="s">my</span><span class="nv"> </span><span class="s">data&#39;</span><span class="p-Indicator">}</span>
  <span class="p-Indicator">-</span> <span class="p-Indicator">{</span><span class="nv">then</span><span class="p-Indicator">:</span> <span class="s">&#39;print</span><span class="nv"> </span><span class="s">my</span><span class="nv"> </span><span class="se">&#39;&#39;&#39;&#39;</span><span class="s">&#39;</span><span class="p-Indicator">}</span>
  <span class="p-Indicator">-</span> <span class="p-Indicator">{</span><span class="nv">then</span><span class="p-Indicator">:</span> <span class="s">&#39;print</span><span class="nv"> </span><span class="s">as</span><span class="nv"> </span><span class="se">&#39;&#39;&#39;&#39;</span><span class="nv"> </span><span class="s">my</span><span class="nv"> </span><span class="se">&#39;&#39;&#39;&#39;</span><span class="s">&#39;</span><span class="p-Indicator">}</span>
  <span class="p-Indicator">-</span> <span class="p-Indicator">{</span><span class="nv">then</span><span class="p-Indicator">:</span> <span class="s">&#39;print</span><span class="nv"> </span><span class="s">my</span><span class="nv"> </span><span class="se">&#39;&#39;&#39;&#39;</span><span class="nv"> </span><span class="s">as</span><span class="nv"> </span><span class="se">&#39;&#39;&#39;&#39;</span><span class="s">&#39;</span><span class="p-Indicator">}</span>
  <span class="p-Indicator">-</span> <span class="p-Indicator">{</span><span class="nv">then</span><span class="p-Indicator">:</span> <span class="s">&#39;print</span><span class="nv"> </span><span class="s">the</span><span class="nv"> </span><span class="se">&#39;&#39;&#39;&#39;</span><span class="s">&#39;</span><span class="p-Indicator">}</span>
  <span class="p-Indicator">-</span> <span class="p-Indicator">{</span><span class="nv">then</span><span class="p-Indicator">:</span> <span class="s">&#39;print</span><span class="nv"> </span><span class="s">as</span><span class="nv"> </span><span class="se">&#39;&#39;&#39;&#39;</span><span class="nv"> </span><span class="s">the</span><span class="nv"> </span><span class="se">&#39;&#39;&#39;&#39;</span><span class="s">&#39;</span><span class="p-Indicator">}</span>
  <span class="p-Indicator">-</span> <span class="p-Indicator">{</span><span class="nv">then</span><span class="p-Indicator">:</span> <span class="s">&#39;print</span><span class="nv"> </span><span class="s">as</span><span class="nv"> </span><span class="se">&#39;&#39;&#39;&#39;</span><span class="nv"> </span><span class="s">the</span><span class="nv"> </span><span class="se">&#39;&#39;&#39;&#39;</span><span class="nv"> </span><span class="s">inside</span><span class="nv"> </span><span class="se">&#39;&#39;&#39;&#39;</span><span class="s">&#39;</span><span class="p-Indicator">}</span>
</pre></div>


<p>Settings:</p>
<div class="codehilite"><pre><span class="n">rule</span> <span class="n">output</span> <span class="n">encoding</span> <span class="p">[</span> <span class="n">url64</span> <span class="o">|</span> <span class="n">base64</span> <span class="o">|</span> <span class="n">hex</span> <span class="o">|</span> <span class="n">bin</span> <span class="p">]</span>
<span class="n">rule</span> <span class="n">output</span> <span class="n">format</span> <span class="p">[</span> <span class="n">json</span> <span class="o">|</span> <span class="n">cbor</span> <span class="p">]</span>
</pre></div>


<h1 id="symmetric-encryption">Symmetric encryption</h1>
<p>This is a simple tecnique to hide a secret using a common password known to all people.</p>
<div class="codehilite"><pre><span class="c1"># a `message` must be set and will be used as encryption input </span>
<span class="c1"># if a `header` is set will authenticate to destination</span>
  <span class="p-Indicator">-</span> <span class="p-Indicator">{</span><span class="nv">when</span><span class="p-Indicator">:</span> <span class="s">&#39;I</span><span class="nv"> </span><span class="s">encrypt</span><span class="nv"> </span><span class="s">the</span><span class="nv"> </span><span class="s">message</span><span class="nv"> </span><span class="s">with</span><span class="nv"> </span><span class="se">&#39;&#39;&#39;&#39;</span><span class="s">&#39;</span><span class="p-Indicator">}</span>
  <span class="p-Indicator">-</span> <span class="p-Indicator">{</span><span class="nv">when</span><span class="p-Indicator">:</span> <span class="s">&#39;I</span><span class="nv"> </span><span class="s">decrypt</span><span class="nv"> </span><span class="s">the</span><span class="nv"> </span><span class="s">secret</span><span class="nv"> </span><span class="s">message</span><span class="nv"> </span><span class="s">with</span><span class="nv"> </span><span class="se">&#39;&#39;&#39;&#39;</span><span class="s">&#39;</span><span class="p-Indicator">}</span>
<span class="c1"># encryption output is returned in `secret message`</span>
</pre></div>


<p>Let's imagine I want to share a secret with someone and send secret messages encrypted with it:</p>
<p><img alt="Zencode to encrypt with password" src="../img/aes_crypt.svg" /></p>
<p>I will need 3 Zencode contracts executed at different times:</p>
<p><strong>1. I generate a strong random secret</strong></p>
<div class="codehilite"><pre><span class="nf">rule check version </span><span class="s">1.0.0</span><span class="nf"></span>
<span class="nf">Scenario simple: Generate a random secret</span>
<span class="k">Given </span><span class="nf">nothing</span>
<span class="k">When </span><span class="nf">I create a random &#39;secret&#39;</span>
<span class="k">Then </span><span class="nf">print the &#39;secret&#39;</span>
</pre></div>


<p>-&gt; then save the secret output and send it</p>
<p><strong>2. I encrypt a message using this secret</strong></p>
<div class="codehilite"><pre><span class="nf">rule check version </span><span class="s">1.0.0</span><span class="nf"></span>
<span class="nf">Scenario simple: Encrypt a message with the secret</span>
<span class="k">Given </span><span class="nf">I have a &#39;secret&#39;</span>
<span class="k">When </span><span class="nf">I write &#39;a very short but very very confidential message&#39; in &#39;message&#39;</span>
<span class="nf">and I write &#39;this is the header&#39; in &#39;header&#39;</span>
<span class="nf">and I encrypt the message with the secret</span>
<span class="k">Then </span><span class="nf">print the &#39;secret message&#39;</span>
</pre></div>


<p>-&gt; then save the secret message and send it</p>
<p><strong>3. Who has my secret can decrypt the secret message</strong></p>
<div class="codehilite"><pre><span class="nf">rule check version </span><span class="s">1.0.0</span><span class="nf"></span>
<span class="nf">Scenario simple: Decrypt the message with the secret</span>
<span class="k">Given </span><span class="nf">i have a &#39;secret&#39;</span>
<span class="nf">and i have a valid &#39;secret message&#39;</span>
<span class="k">When </span><span class="nf">I decrypt the secret message with the secret</span>
<span class="k">Then </span><span class="nf">print as &#39;string&#39; the &#39;text&#39; inside &#39;message&#39;</span>
<span class="nf">and print as &#39;string&#39; the &#39;header&#39; inside &#39;message&#39;</span>
</pre></div>


<p>Of course the secret must be known by all participats and that's the
dangerous part, since it could be stolen at the moment is told.</p>
<p>We solve this problem using public-key cryptography, also known as a-symmetric encryption.</p>
<h1 id="asymmetric-encryption">Asymmetric encryption</h1>
<p>To solve this problem we have <a href="https://en.wikipedia.org/wiki/Public-key_cryptography">asymmetric encryption (or public key
cryptography)</a>
which relies on the creation of keypairs (public and private) both by
Alice and Bob.</p>
<p>Fortunately its pretty simple to do using Zencode.</p>
<h2 id="key-generation-and-exchange">Key generation and exchange</h2>
<div class="codehilite"><pre>  <span class="p-Indicator">-</span> <span class="p-Indicator">{</span><span class="nv">when</span><span class="p-Indicator">:</span> <span class="s">&#39;I</span><span class="nv"> </span><span class="s">create</span><span class="nv"> </span><span class="s">my</span><span class="nv"> </span><span class="s">new</span><span class="nv"> </span><span class="s">keypair&#39;</span><span class="p-Indicator">}</span>
  <span class="p-Indicator">-</span> <span class="p-Indicator">{</span><span class="nv">when</span><span class="p-Indicator">:</span> <span class="s">&#39;I</span><span class="nv"> </span><span class="s">generate</span><span class="nv"> </span><span class="s">my</span><span class="nv"> </span><span class="s">keys&#39;</span><span class="p-Indicator">}</span>
</pre></div>


<p><img alt="Zencode to generate asymmetric keypairs" src="../img/ecdh_keygen.svg" /></p>
<p>After both Alice and Bob have their own keypairs and they both know
each other public key we can move forward to do asymmetric encryption
and signatures.</p>
<p><strong>1.a Alice keygen</strong></p>
<div class="codehilite"><pre><span class="nf">Rule check version </span><span class="s">1.0.0</span><span class="nf"></span>
<span class="nf">Scenario &#39;simple&#39;: Alice generate a keypair</span>
<span class="k">Given </span><span class="nf">that I am known as &#39;Alice&#39;</span>
<span class="k">When </span><span class="nf">I create my new keypair</span>
<span class="k">Then </span><span class="nf">print my data</span>
</pre></div>


<p><strong>2.a Alice pubkey</strong></p>
<div class="codehilite"><pre><span class="nf">Rule check version </span><span class="s">1.0.0</span><span class="nf"></span>
<span class="nf">Scenario &#39;simple&#39;: Alice publishes her public key</span>
<span class="k">Given </span><span class="nf">that I am known as &#39;Alice&#39;</span>
<span class="nf">and I have my valid &#39;public key&#39;</span>
<span class="k">Then </span><span class="nf">print my data</span>
</pre></div>


<p><strong>1.b Bob keygen</strong></p>
<div class="codehilite"><pre><span class="nf">Rule check version </span><span class="s">1.0.0</span><span class="nf"></span>
<span class="nf">Scenario &#39;simple&#39;: Bob generate a keypair</span>
<span class="k">Given </span><span class="nf">that I am known as &#39;Bob&#39;</span>
<span class="k">When </span><span class="nf">I create my new keypair</span>
<span class="k">Then </span><span class="nf">print my data</span>
</pre></div>


<p><strong>2.b Bob pubkey</strong></p>
<div class="codehilite"><pre><span class="nf">Rule check version </span><span class="s">1.0.0</span><span class="nf"></span>
<span class="nf">Scenario &#39;simple&#39;: Bob publishes his public key</span>
<span class="k">Given </span><span class="nf">that I am known as &#39;Bob&#39;</span>
<span class="nf">and I have my valid &#39;public key&#39;</span>
<span class="k">Then </span><span class="nf">print my data</span>
</pre></div>


<h2 id="public-key-encryption-ecdh">Public-key Encryption (ECDH)</h2>
<div class="codehilite"><pre>  <span class="c1"># if a &#39;header&#39; is set will authenticate to destination</span>
  <span class="p-Indicator">-</span> <span class="p-Indicator">{</span><span class="nv">when</span><span class="p-Indicator">:</span> <span class="s">&#39;I</span><span class="nv"> </span><span class="s">encrypt</span><span class="nv"> </span><span class="s">the</span><span class="nv"> </span><span class="se">&#39;&#39;&#39;&#39;</span><span class="nv"> </span><span class="s">to</span><span class="nv"> </span><span class="se">&#39;&#39;&#39;&#39;</span><span class="nv"> </span><span class="s">for</span><span class="nv"> </span><span class="se">&#39;&#39;&#39;&#39;</span><span class="s">&#39;</span><span class="p-Indicator">}</span>
  <span class="p-Indicator">-</span> <span class="p-Indicator">{</span><span class="nv">when</span><span class="p-Indicator">:</span> <span class="s">&#39;I</span><span class="nv"> </span><span class="s">decrypt</span><span class="nv"> </span><span class="s">the</span><span class="nv"> </span><span class="se">&#39;&#39;&#39;&#39;</span><span class="nv"> </span><span class="s">from</span><span class="nv"> </span><span class="se">&#39;&#39;&#39;&#39;</span><span class="nv"> </span><span class="s">to</span><span class="nv"> </span><span class="se">&#39;&#39;&#39;&#39;</span><span class="s">&#39;</span><span class="p-Indicator">}</span>
</pre></div>


<p><img alt="Zencode to encrypt using asymmetric keypairs" src="../img/ecdh_crypt.svg" /></p>
<p><strong>1. Alice encrypts the message using Bob's public key</strong></p>
<div class="codehilite"><pre><span class="nf">Rule check version </span><span class="s">1.0.0</span><span class="nf"></span>
<span class="nf">Scenario &#39;simple&#39;: Alice encrypts a message for Bob</span>
<span class="k">Given </span><span class="nf">that I am known as &#39;Alice&#39;</span>
<span class="nf">and I have my valid &#39;keypair&#39;</span>
<span class="nf">and I have a valid &#39;public key&#39; from &#39;Bob&#39;</span>
<span class="k">When </span><span class="nf">I write &#39;This is my secret message.&#39; in &#39;message&#39;</span>
<span class="nf">and I write &#39;This is the header&#39; in &#39;header&#39;</span>
<span class="nf">and I encrypt the message for &#39;Bob&#39;</span>
<span class="k">Then </span><span class="nf">print the &#39;secret message&#39;</span>
</pre></div>


<p><strong>2. Bob prepares a keyring with Alice's public key</strong></p>
<div class="codehilite"><pre><span class="nf">Rule check version </span><span class="s">1.0.0</span><span class="nf"></span>
<span class="nf">Scenario &#39;simple&#39;: Bob gathers public keys in his keyring</span>
<span class="k">Given </span><span class="nf">that I am &#39;Bob&#39;</span>
<span class="nf">and I have my valid &#39;keypair&#39;</span>
<span class="nf">and I have a valid &#39;public key&#39; from &#39;Alice&#39;</span>
<span class="k">Then </span><span class="nf">print my &#39;keypair&#39;</span>
<span class="nf">and print the &#39;public key&#39;</span>
</pre></div>


<p><strong>3. Bob decrypts the message using Alice's public key</strong></p>
<div class="codehilite"><pre><span class="nf">Rule check version </span><span class="s">1.0.0</span><span class="nf"></span>
<span class="nf">Scenario &#39;simple&#39;: Bob decrypts the message from Alice</span>
<span class="k">Given </span><span class="nf">that I am known as &#39;Bob&#39;</span>
<span class="nf">and I have my valid &#39;keypair&#39;</span>
<span class="nf">and I have a valid &#39;public key&#39; from &#39;Alice&#39;</span>
<span class="nf">and I have a valid &#39;secret message&#39;</span>
<span class="k">When </span><span class="nf">I decrypt the secret message from &#39;Alice&#39;</span>
<span class="k">Then </span><span class="nf">print as &#39;string&#39; the &#39;message&#39;</span>
<span class="nf">and print as &#39;string&#39; the &#39;header&#39; inside &#39;secret message&#39;</span>
</pre></div>


<p>In this basic example the session key for encryption is made combining
the private key of Alice and the public key of Bob (or
viceversa).</p>
<div class="codehilite"><pre><span class="k">When </span><span class="nf">I write &#39;my secret for you&#39; in &#39;message&#39;</span>
<span class="nf">and I write &#39;an authenticated message&#39; in &#39;header&#39;</span>
</pre></div>


<p>The decryption will always check that the header hasn't changed,
maintaining the integrity of the string which may contain important
public information that accompany the secret.</p>
<h2 id="public-key-signature-ecdsa">Public-key Signature (ECDSA)</h2>
<div class="codehilite"><pre>  <span class="p-Indicator">-</span> <span class="p-Indicator">{</span><span class="nv">when</span><span class="p-Indicator">:</span> <span class="s">&#39;I</span><span class="nv"> </span><span class="s">sign</span><span class="nv"> </span><span class="s">the</span><span class="nv"> </span><span class="se">&#39;&#39;&#39;&#39;</span><span class="nv"> </span><span class="s">as</span><span class="nv"> </span><span class="se">&#39;&#39;&#39;&#39;</span><span class="s">&#39;</span><span class="p-Indicator">}</span>
  <span class="p-Indicator">-</span> <span class="p-Indicator">{</span><span class="nv">when</span><span class="p-Indicator">:</span> <span class="s">&#39;I</span><span class="nv"> </span><span class="s">verify</span><span class="nv"> </span><span class="s">the</span><span class="nv"> </span><span class="se">&#39;&#39;&#39;&#39;</span><span class="nv"> </span><span class="s">is</span><span class="nv"> </span><span class="s">authentic&#39;</span><span class="p-Indicator">}</span>
</pre></div>


<p><img alt="Zencode to sign using asymmetric keypairs" src="../img/ecdsa_sign.svg" /></p>
<p>Here we continue assuming that the keyrings are already prepared with
public/private keypairs and the public keypair of the correspondent.</p>
<p><strong>1. Alice signs a message for Bob</strong></p>
<div class="codehilite"><pre><span class="nf">Rule check version </span><span class="s">1.0.0</span><span class="nf"></span>
<span class="nf">Scenario &#39;simple&#39;: Alice signs a message for Bob</span>
<span class="k">Given </span><span class="nf">that I am known as &#39;Alice&#39;</span>
<span class="nf">and I have my valid &#39;keypair&#39;</span>
<span class="k">When </span><span class="nf">I write &#39;This is my signed message to Bob.&#39; in &#39;draft&#39;</span>
<span class="nf">and I make the signature of the &#39;draft&#39;</span>
<span class="k">Then </span><span class="nf">print my &#39;signature&#39;</span>
<span class="nf">and print my &#39;draft&#39;</span>
</pre></div>


<p><strong>1. Bob verifies the signed message from Alice</strong></p>
<div class="codehilite"><pre><span class="nf">rule check version </span><span class="s">1.0.0</span><span class="nf"></span>
<span class="nf">Scenario &#39;simple&#39;: Bob verifies the signature from Alice</span>
<span class="k">Given </span><span class="nf">that I am known as &#39;Bob&#39;</span>
<span class="nf">and I have inside &#39;Alice&#39; a valid &#39;public key&#39;</span>
<span class="nf">and I have a valid &#39;signature&#39; inside &#39;Alice&#39;</span>
<span class="nf">and I have a &#39;draft&#39; inside &#39;Alice&#39;</span>
<span class="k">When </span><span class="nf">I verify the &#39;signature&#39; of the &#39;draft&#39; is by &#39;Alice&#39;</span>
<span class="k">Then </span><span class="nf">print &#39;signature&#39; &#39;correct&#39;</span>
<span class="nf">and print as &#39;string&#39; the &#39;draft&#39;</span>
</pre></div>


<p>In this example Alice uses her private key to sign and authenticate a
message. Bob or anyone else can use Alice's public key to prove that
the integrity of the message is kept intact and that she signed it.</p>
<h1 id="zero-knowledge-proofs">Zero Knowledge Proofs</h1>
<p>One powerful feature of Zenroom is the implementation of the <a href="https://arxiv.org/pdf/1802.07344.pdf">Coconut
crypto scheme</a>. This novel
scheme supports several features based on pairing elliptic curve
arithmetics and in particular:</p>
<ul>
<li>non-interactive zero knowedge proofs (also known as ZK, ZKP or ZK-Snarks)</li>
<li>threshold credentials with multiple decentralised issuers</li>
<li>homomorphic encryption for numeric counters</li>
</ul>
<p>These are all very useful features for architectures based on the
decentralisation of trust, typical of DLT and blockchain based
systems, as well for off-line and non-interactive authentication.</p>
<p>The Zencode language leverages two main use cases of this crypto
scheme and two more will be implemented in the future.</p>
<ol>
<li>Attribute Based Credentials (ABC) where issuer verification keys
   represent specific credentials</li>
<li>A Petition system based on ABC and homomorphic encryption</li>
<li>(WIP) Anonymous proxy validation scheme</li>
<li>(WIP) Token thumbler to privately transfer numeric assets</li>
</ol>
<p>The main feature of ZKP based cryptography is that one can use
credentials to create untreaceable public proofs for authenticating or
signing a petition etc.</p>
<p>The validity of ZK proofs can be witnesses by anyone without even
knowing who is being authenticated: just knowing the proof and the
credential (the public verification key of the credential issuer).</p>
<h2 id="attribute-based-credentials">Attribute Based Credentials</h2>
<p><img alt="Alice in Wonderland" src="../img/alice_with_cards-sm.jpg" /></p>
<p>Let's now imagine 3 different subjects for our scenarios:</p>
<ol>
<li><strong>Wonderland</strong> is an open space, all inhabitants can witness the validity of <strong>credential proofs</strong></li>
<li><strong>Alice</strong> just arrived in Wonderland: she will make <strong>credential signature requests</strong>, hold the signed <strong>credentials</strong> and use them to produce <strong>proofs</strong></li>
<li><strong>Mad Hatter</strong> is a well known <strong>credential issuer</strong> in Wonderland: he receives <strong>credential signature requests</strong> and decides if to sign them. Once signed, <strong>credentials</strong> can be used to produce <strong>proofs</strong>.</li>
</ol>
<p>Credential proofs are different at every use, so Alice can use signed
credentials in her possession to produce proofs, but cannot be
followed by her trail of proofs. Alice can produce an infinite number
of them and leave them around: like in a chest at the entrance of a
room, for anyone to witness their validity without even meeting Alice
or knowing who she is.</p>
<p><img alt="Zencode for attribute based credentials" src="../img/zkp_abc.svg" /></p>
<p>1- <strong>Alice</strong> generates her <strong>credential keypair</strong></p>
<div class="codehilite"><pre><span class="nf">Scenario coconut</span>
<span class="k">Given </span><span class="nf">that I am known as &#39;identifier&#39;</span>
<span class="k">When </span><span class="nf">I create my new keypair</span>
<span class="k">Then </span><span class="nf">print my data</span>
</pre></div>


<p>2- <strong>MadHatter</strong> generates an <strong>issuer keypair</strong></p>
<div class="codehilite"><pre><span class="nf">Scenario coconut</span>
<span class="k">Given </span><span class="nf">that I am known as &#39;issuer identifier&#39;</span>
<span class="k">When </span><span class="nf">I create my new issuer keypair</span>
<span class="k">Then </span><span class="nf">print my &#39;issuer keypair&#39;</span>
</pre></div>


<p>2a <strong>MadHatter</strong> publishes the <strong>verification key</strong></p>
<div class="codehilite"><pre><span class="nf">Scenario coconut</span>
<span class="k">Given </span><span class="nf">that I am known as &#39;issuer identifier&#39;</span>
<span class="nf">and I have my valid &#39;ca verify&#39;</span>
<span class="k">When </span><span class="nf">I publish my issuer verification key</span>
<span class="k">Then </span><span class="nf">print my data</span>
</pre></div>


<p>3- <strong>Alice</strong> sends her <strong>credential signature request</strong></p>
<div class="codehilite"><pre><span class="nf">Scenario coconut</span>
<span class="k">Given </span><span class="nf">that I am known as &#39;identifier&#39;</span>
<span class="nf">and I have my valid &#39;credential keypair&#39;</span>
<span class="k">When </span><span class="nf">I create a credential signature request</span>
<span class="k">Then </span><span class="nf">print my &#39;credential signature request&#39;</span>
</pre></div>


<p>4- <strong>MadHatter</strong> decides to sign a <strong>credential signature request</strong></p>
<div class="codehilite"><pre><span class="nf">Scenario coconut</span>
<span class="k">Given </span><span class="nf">that I am known as &#39;issuer_identifier&#39;</span>
<span class="nf">and I have my valid &#39;issuer keypair&#39;</span>
<span class="nf">and I have a valid &#39;credential signature request&#39;</span>
<span class="k">When </span><span class="nf">I sign the credential</span>
<span class="k">Then </span><span class="nf">print the &#39;credential&#39;</span>
<span class="nf">and print the &#39;ca verify&#39;</span>
</pre></div>


<p>5- <strong>Alice</strong> receives and aggregates the signed <strong>credential</strong></p>
<div class="codehilite"><pre><span class="nf">Scenario coconut</span>
<span class="k">Given </span><span class="nf">that I am known as &#39;identifier&#39;</span>
<span class="nf">and I have my valid &#39;credential keypair&#39;</span>
<span class="nf">and I have a valid &#39;credential&#39;</span>
<span class="k">When </span><span class="nf">I aggregate the credential in &#39;credentials&#39;</span>
<span class="k">Then </span><span class="nf">print my &#39;credentials&#39;</span>
<span class="nf">and print my &#39;credential keypair&#39;</span>
</pre></div>


<hr />
<p>At this point <strong>Alice</strong> is in possession of <strong>credentials</strong> allowing
her to produce a <strong>proof</strong> any time she wants.</p>
<hr />
<p>6- <strong>Alice</strong> show the <strong>credential proof</strong></p>
<div class="codehilite"><pre><span class="nf">Scenario coconut</span>
<span class="k">Given </span><span class="nf">that I am known as &#39;identifier&#39;</span>
<span class="nf">and I have my valid &#39;credential keypair&#39;</span>
<span class="nf">and I have a valid &#39;ca_verify&#39; from &#39;issuer identifier&#39;</span>
<span class="nf">and I have my valid &#39;credentials&#39;</span>
<span class="k">When </span><span class="nf">I aggregate all &#39;ca verify&#39;</span>
<span class="nf">and I create a credential proof</span>
<span class="k">Then </span><span class="nf">print the &#39;credential proof&#39;</span>
</pre></div>


<p>7- Anyone can verify the <strong>credential proof</strong></p>
<div class="codehilite"><pre><span class="nf">Scenario coconut</span>
<span class="k">Given </span><span class="nf">that I have a valid &#39;ca_verify&#39; from &#39;issuer_identifier&#39;</span>
<span class="nf">and I have a valid &#39;credential proof&#39;</span>
<span class="k">When </span><span class="nf">I aggregate all &#39;ca_verify&#39;</span>
<span class="nf">and I verify the credential proof is correct</span>
<span class="k">Then </span><span class="nf">print &#39;Success&#39; &#39;OK&#39; as &#39;string&#39;</span>
</pre></div>


<h1 id="full-list-of-statements">Full list of statements</h1>
<div class="codehilite"><pre><span class="l-Scalar-Plain">when</span><span class="p-Indicator">:</span>
  <span class="p-Indicator">-</span> <span class="p-Indicator">{</span><span class="nv">when</span><span class="p-Indicator">:</span> <span class="s">&#39;I</span><span class="nv"> </span><span class="s">append</span><span class="nv"> </span><span class="se">&#39;&#39;&#39;&#39;</span><span class="nv"> </span><span class="s">to</span><span class="nv"> </span><span class="se">&#39;&#39;&#39;&#39;</span><span class="s">&#39;</span><span class="p-Indicator">}</span>
  <span class="p-Indicator">-</span> <span class="p-Indicator">{</span><span class="nv">when</span><span class="p-Indicator">:</span> <span class="s">&#39;I</span><span class="nv"> </span><span class="s">write</span><span class="nv"> </span><span class="se">&#39;&#39;&#39;&#39;</span><span class="nv"> </span><span class="s">in</span><span class="nv"> </span><span class="se">&#39;&#39;&#39;&#39;</span><span class="s">&#39;</span><span class="p-Indicator">}</span>
  <span class="p-Indicator">-</span> <span class="p-Indicator">{</span><span class="nv">when</span><span class="p-Indicator">:</span> <span class="s">&#39;I</span><span class="nv"> </span><span class="s">set</span><span class="nv"> </span><span class="se">&#39;&#39;&#39;&#39;</span><span class="nv"> </span><span class="s">to</span><span class="nv"> </span><span class="se">&#39;&#39;&#39;&#39;</span><span class="s">&#39;</span><span class="p-Indicator">}</span>
  <span class="p-Indicator">-</span> <span class="p-Indicator">{</span><span class="nv">when</span><span class="p-Indicator">:</span> <span class="s">&#39;I</span><span class="nv"> </span><span class="s">create</span><span class="nv"> </span><span class="s">a</span><span class="nv"> </span><span class="s">random</span><span class="nv"> </span><span class="se">&#39;&#39;&#39;&#39;</span><span class="s">&#39;</span><span class="p-Indicator">}</span>
  <span class="p-Indicator">-</span> <span class="p-Indicator">{</span><span class="nv">when</span><span class="p-Indicator">:</span> <span class="s">&#39;I</span><span class="nv"> </span><span class="s">create</span><span class="nv"> </span><span class="s">a</span><span class="nv"> </span><span class="s">random</span><span class="nv"> </span><span class="s">array</span><span class="nv"> </span><span class="s">of</span><span class="nv"> </span><span class="se">&#39;&#39;&#39;&#39;</span><span class="nv"> </span><span class="s">elements&#39;</span><span class="p-Indicator">}</span>
  <span class="p-Indicator">-</span> <span class="p-Indicator">{</span><span class="nv">when</span><span class="p-Indicator">:</span> <span class="s">&#39;I</span><span class="nv"> </span><span class="s">create</span><span class="nv"> </span><span class="s">a</span><span class="nv"> </span><span class="s">random</span><span class="nv"> </span><span class="se">&#39;&#39;&#39;&#39;</span><span class="nv"> </span><span class="s">bit</span><span class="nv"> </span><span class="s">array</span><span class="nv"> </span><span class="s">of</span><span class="nv"> </span><span class="se">&#39;&#39;&#39;&#39;</span><span class="nv"> </span><span class="s">elements&#39;</span><span class="p-Indicator">}</span>
  <span class="p-Indicator">-</span> <span class="p-Indicator">{</span><span class="nv">when</span><span class="p-Indicator">:</span> <span class="s">&#39;I</span><span class="nv"> </span><span class="s">set</span><span class="nv"> </span><span class="se">&#39;&#39;&#39;&#39;</span><span class="nv"> </span><span class="s">as</span><span class="nv"> </span><span class="se">&#39;&#39;&#39;&#39;</span><span class="nv"> </span><span class="s">with</span><span class="nv"> </span><span class="se">&#39;&#39;&#39;&#39;</span><span class="s">&#39;</span><span class="p-Indicator">}</span>
  <span class="p-Indicator">-</span> <span class="p-Indicator">{</span><span class="nv">when</span><span class="p-Indicator">:</span> <span class="s">&#39;I</span><span class="nv"> </span><span class="s">append</span><span class="nv"> </span><span class="se">&#39;&#39;&#39;&#39;</span><span class="nv"> </span><span class="s">as</span><span class="nv"> </span><span class="se">&#39;&#39;&#39;&#39;</span><span class="nv"> </span><span class="s">to</span><span class="nv"> </span><span class="se">&#39;&#39;&#39;&#39;</span><span class="s">&#39;</span><span class="p-Indicator">}</span>
  <span class="p-Indicator">-</span> <span class="p-Indicator">{</span><span class="nv">when</span><span class="p-Indicator">:</span> <span class="s">&#39;I</span><span class="nv"> </span><span class="s">write</span><span class="nv"> </span><span class="se">&#39;&#39;&#39;&#39;</span><span class="nv"> </span><span class="s">as</span><span class="nv"> </span><span class="se">&#39;&#39;&#39;&#39;</span><span class="nv"> </span><span class="s">in</span><span class="nv"> </span><span class="se">&#39;&#39;&#39;&#39;</span><span class="s">&#39;</span><span class="p-Indicator">}</span>
<span class="l-Scalar-Plain">coconut</span><span class="p-Indicator">:</span>
  <span class="p-Indicator">-</span> <span class="p-Indicator">{</span><span class="nv">when</span><span class="p-Indicator">:</span> <span class="s">&#39;I</span><span class="nv"> </span><span class="s">create</span><span class="nv"> </span><span class="s">my</span><span class="nv"> </span><span class="s">new</span><span class="nv"> </span><span class="s">credential</span><span class="nv"> </span><span class="s">keypair&#39;</span><span class="p-Indicator">}</span>
  <span class="p-Indicator">-</span> <span class="p-Indicator">{</span><span class="nv">when</span><span class="p-Indicator">:</span> <span class="s">&#39;I</span><span class="nv"> </span><span class="s">create</span><span class="nv"> </span><span class="s">my</span><span class="nv"> </span><span class="s">new</span><span class="nv"> </span><span class="s">credential</span><span class="nv"> </span><span class="s">request</span><span class="nv"> </span><span class="s">keypair&#39;</span><span class="p-Indicator">}</span>
  <span class="p-Indicator">-</span> <span class="p-Indicator">{</span><span class="nv">when</span><span class="p-Indicator">:</span> <span class="s">&#39;I</span><span class="nv"> </span><span class="s">create</span><span class="nv"> </span><span class="s">my</span><span class="nv"> </span><span class="s">new</span><span class="nv"> </span><span class="s">keypair&#39;</span><span class="p-Indicator">}</span>
  <span class="p-Indicator">-</span> <span class="p-Indicator">{</span><span class="nv">when</span><span class="p-Indicator">:</span> <span class="s">&#39;I</span><span class="nv"> </span><span class="s">create</span><span class="nv"> </span><span class="s">my</span><span class="nv"> </span><span class="s">new</span><span class="nv"> </span><span class="s">issuer</span><span class="nv"> </span><span class="s">keypair&#39;</span><span class="p-Indicator">}</span>
  <span class="p-Indicator">-</span> <span class="p-Indicator">{</span><span class="nv">when</span><span class="p-Indicator">:</span> <span class="s">&#39;I</span><span class="nv"> </span><span class="s">create</span><span class="nv"> </span><span class="s">my</span><span class="nv"> </span><span class="s">new</span><span class="nv"> </span><span class="s">authority</span><span class="nv"> </span><span class="s">keypair&#39;</span><span class="p-Indicator">}</span>
  <span class="p-Indicator">-</span> <span class="p-Indicator">{</span><span class="nv">when</span><span class="p-Indicator">:</span> <span class="s">&#39;I</span><span class="nv"> </span><span class="s">create</span><span class="nv"> </span><span class="s">a</span><span class="nv"> </span><span class="s">credential</span><span class="nv"> </span><span class="s">signature</span><span class="nv"> </span><span class="s">request&#39;</span><span class="p-Indicator">}</span>
  <span class="p-Indicator">-</span> <span class="p-Indicator">{</span><span class="nv">when</span><span class="p-Indicator">:</span> <span class="s">&#39;I</span><span class="nv"> </span><span class="s">sign</span><span class="nv"> </span><span class="s">the</span><span class="nv"> </span><span class="s">credential&#39;</span><span class="p-Indicator">}</span>
  <span class="p-Indicator">-</span> <span class="p-Indicator">{</span><span class="nv">when</span><span class="p-Indicator">:</span> <span class="s">&#39;I</span><span class="nv"> </span><span class="s">aggregate</span><span class="nv"> </span><span class="s">the</span><span class="nv"> </span><span class="s">credential</span><span class="nv"> </span><span class="s">in</span><span class="nv"> </span><span class="se">&#39;&#39;&#39;&#39;</span><span class="s">&#39;</span><span class="p-Indicator">}</span>
  <span class="p-Indicator">-</span> <span class="p-Indicator">{</span><span class="nv">when</span><span class="p-Indicator">:</span> <span class="s">&#39;I</span><span class="nv"> </span><span class="s">aggregate</span><span class="nv"> </span><span class="s">all</span><span class="nv"> </span><span class="se">&#39;&#39;&#39;&#39;</span><span class="s">&#39;</span><span class="p-Indicator">}</span>
  <span class="p-Indicator">-</span> <span class="p-Indicator">{</span><span class="nv">when</span><span class="p-Indicator">:</span> <span class="s">&#39;I</span><span class="nv"> </span><span class="s">create</span><span class="nv"> </span><span class="s">a</span><span class="nv"> </span><span class="s">credential</span><span class="nv"> </span><span class="s">proof&#39;</span><span class="p-Indicator">}</span>
  <span class="p-Indicator">-</span> <span class="p-Indicator">{</span><span class="nv">when</span><span class="p-Indicator">:</span> <span class="s">&#39;I</span><span class="nv"> </span><span class="s">verify</span><span class="nv"> </span><span class="s">the</span><span class="nv"> </span><span class="s">credential</span><span class="nv"> </span><span class="s">proof</span><span class="nv"> </span><span class="s">is</span><span class="nv"> </span><span class="s">correct&#39;</span><span class="p-Indicator">}</span>
  <span class="p-Indicator">-</span> <span class="p-Indicator">{</span><span class="nv">when</span><span class="p-Indicator">:</span> <span class="s">&#39;I</span><span class="nv"> </span><span class="s">create</span><span class="nv"> </span><span class="s">a</span><span class="nv"> </span><span class="s">petition</span><span class="nv"> </span><span class="se">&#39;&#39;&#39;&#39;</span><span class="s">&#39;</span><span class="p-Indicator">}</span>
  <span class="p-Indicator">-</span> <span class="p-Indicator">{</span><span class="nv">when</span><span class="p-Indicator">:</span> <span class="s">&#39;I</span><span class="nv"> </span><span class="s">verify</span><span class="nv"> </span><span class="s">the</span><span class="nv"> </span><span class="s">new</span><span class="nv"> </span><span class="s">petition</span><span class="nv"> </span><span class="s">to</span><span class="nv"> </span><span class="s">be</span><span class="nv"> </span><span class="s">empty&#39;</span><span class="p-Indicator">}</span>
  <span class="p-Indicator">-</span> <span class="p-Indicator">{</span><span class="nv">when</span><span class="p-Indicator">:</span> <span class="s">&#39;I</span><span class="nv"> </span><span class="s">create</span><span class="nv"> </span><span class="s">a</span><span class="nv"> </span><span class="s">petition</span><span class="nv"> </span><span class="s">signature</span><span class="nv"> </span><span class="se">&#39;&#39;&#39;&#39;</span><span class="s">&#39;</span><span class="p-Indicator">}</span>
  <span class="p-Indicator">-</span> <span class="p-Indicator">{</span><span class="nv">when</span><span class="p-Indicator">:</span> <span class="s">&#39;I</span><span class="nv"> </span><span class="s">verify</span><span class="nv"> </span><span class="s">the</span><span class="nv"> </span><span class="s">signature</span><span class="nv"> </span><span class="s">proof</span><span class="nv"> </span><span class="s">is</span><span class="nv"> </span><span class="s">correct&#39;</span><span class="p-Indicator">}</span>
  <span class="p-Indicator">-</span> <span class="p-Indicator">{</span><span class="nv">when</span><span class="p-Indicator">:</span> <span class="s">&#39;the</span><span class="nv"> </span><span class="s">petition</span><span class="nv"> </span><span class="s">signature</span><span class="nv"> </span><span class="s">is</span><span class="nv"> </span><span class="s">not</span><span class="nv"> </span><span class="s">a</span><span class="nv"> </span><span class="s">duplicate&#39;</span><span class="p-Indicator">}</span>
  <span class="p-Indicator">-</span> <span class="p-Indicator">{</span><span class="nv">when</span><span class="p-Indicator">:</span> <span class="s">&#39;the</span><span class="nv"> </span><span class="s">petition</span><span class="nv"> </span><span class="s">signature</span><span class="nv"> </span><span class="s">is</span><span class="nv"> </span><span class="s">just</span><span class="nv"> </span><span class="s">one</span><span class="nv"> </span><span class="s">more&#39;</span><span class="p-Indicator">}</span>
  <span class="p-Indicator">-</span> <span class="p-Indicator">{</span><span class="nv">when</span><span class="p-Indicator">:</span> <span class="s">&#39;I</span><span class="nv"> </span><span class="s">add</span><span class="nv"> </span><span class="s">the</span><span class="nv"> </span><span class="s">signature</span><span class="nv"> </span><span class="s">to</span><span class="nv"> </span><span class="s">the</span><span class="nv"> </span><span class="s">petition&#39;</span><span class="p-Indicator">}</span>
  <span class="p-Indicator">-</span> <span class="p-Indicator">{</span><span class="nv">when</span><span class="p-Indicator">:</span> <span class="s">&#39;I</span><span class="nv"> </span><span class="s">create</span><span class="nv"> </span><span class="s">a</span><span class="nv"> </span><span class="s">petition</span><span class="nv"> </span><span class="s">tally&#39;</span><span class="p-Indicator">}</span>
  <span class="p-Indicator">-</span> <span class="p-Indicator">{</span><span class="nv">when</span><span class="p-Indicator">:</span> <span class="s">&#39;I</span><span class="nv"> </span><span class="s">count</span><span class="nv"> </span><span class="s">the</span><span class="nv"> </span><span class="s">petition</span><span class="nv"> </span><span class="s">results&#39;</span><span class="p-Indicator">}</span>
<span class="l-Scalar-Plain">simple</span><span class="p-Indicator">:</span>
  <span class="p-Indicator">-</span> <span class="p-Indicator">{</span><span class="nv">when</span><span class="p-Indicator">:</span> <span class="s">&#39;I</span><span class="nv"> </span><span class="s">create</span><span class="nv"> </span><span class="s">my</span><span class="nv"> </span><span class="s">new</span><span class="nv"> </span><span class="s">keypair&#39;</span><span class="p-Indicator">}</span>
  <span class="p-Indicator">-</span> <span class="p-Indicator">{</span><span class="nv">when</span><span class="p-Indicator">:</span> <span class="s">&#39;I</span><span class="nv"> </span><span class="s">generate</span><span class="nv"> </span><span class="s">my</span><span class="nv"> </span><span class="s">keys&#39;</span><span class="p-Indicator">}</span>
  <span class="p-Indicator">-</span> <span class="p-Indicator">{</span><span class="nv">when</span><span class="p-Indicator">:</span> <span class="s">&#39;I</span><span class="nv"> </span><span class="s">encrypt</span><span class="nv"> </span><span class="s">the</span><span class="nv"> </span><span class="s">message</span><span class="nv"> </span><span class="s">with</span><span class="nv"> </span><span class="s">the</span><span class="nv"> </span><span class="s">secret&#39;</span><span class="p-Indicator">}</span>
  <span class="p-Indicator">-</span> <span class="p-Indicator">{</span><span class="nv">when</span><span class="p-Indicator">:</span> <span class="s">&#39;I</span><span class="nv"> </span><span class="s">decrypt</span><span class="nv"> </span><span class="s">the</span><span class="nv"> </span><span class="s">secret</span><span class="nv"> </span><span class="s">message</span><span class="nv"> </span><span class="s">with</span><span class="nv"> </span><span class="s">the</span><span class="nv"> </span><span class="s">secret&#39;</span><span class="p-Indicator">}</span>
  <span class="p-Indicator">-</span> <span class="p-Indicator">{</span><span class="nv">when</span><span class="p-Indicator">:</span> <span class="s">&#39;I</span><span class="nv"> </span><span class="s">encrypt</span><span class="nv"> </span><span class="s">the</span><span class="nv"> </span><span class="s">message</span><span class="nv"> </span><span class="s">for</span><span class="nv"> </span><span class="se">&#39;&#39;&#39;&#39;</span><span class="s">&#39;</span><span class="p-Indicator">}</span>
  <span class="p-Indicator">-</span> <span class="p-Indicator">{</span><span class="nv">when</span><span class="p-Indicator">:</span> <span class="s">&#39;I</span><span class="nv"> </span><span class="s">decrypt</span><span class="nv"> </span><span class="s">the</span><span class="nv"> </span><span class="s">secret</span><span class="nv"> </span><span class="s">message</span><span class="nv"> </span><span class="s">from</span><span class="nv"> </span><span class="se">&#39;&#39;&#39;&#39;</span><span class="s">&#39;</span><span class="p-Indicator">}</span>
  <span class="p-Indicator">-</span> <span class="p-Indicator">{</span><span class="nv">when</span><span class="p-Indicator">:</span> <span class="s">&#39;I</span><span class="nv"> </span><span class="s">make</span><span class="nv"> </span><span class="s">the</span><span class="nv"> </span><span class="s">signature</span><span class="nv"> </span><span class="s">of</span><span class="nv"> </span><span class="s">the</span><span class="nv"> </span><span class="se">&#39;&#39;&#39;&#39;</span><span class="s">&#39;</span><span class="p-Indicator">}</span>
  <span class="p-Indicator">-</span> <span class="p-Indicator">{</span><span class="nv">when</span><span class="p-Indicator">:</span> <span class="s">&#39;I</span><span class="nv"> </span><span class="s">verify</span><span class="nv"> </span><span class="s">the</span><span class="nv"> </span><span class="se">&#39;&#39;&#39;&#39;</span><span class="nv"> </span><span class="s">is</span><span class="nv"> </span><span class="s">authentic&#39;</span><span class="p-Indicator">}</span>
<span class="l-Scalar-Plain">given</span><span class="p-Indicator">:</span>
  <span class="p-Indicator">-</span> <span class="p-Indicator">{</span><span class="nv">given</span><span class="p-Indicator">:</span> <span class="nv">nothing</span><span class="p-Indicator">}</span>
  <span class="p-Indicator">-</span> <span class="p-Indicator">{</span><span class="nv">given</span><span class="p-Indicator">:</span> <span class="s">&#39;I</span><span class="nv"> </span><span class="s">introduce</span><span class="nv"> </span><span class="s">myself</span><span class="nv"> </span><span class="s">as</span><span class="nv"> </span><span class="se">&#39;&#39;&#39;&#39;</span><span class="s">&#39;</span><span class="p-Indicator">}</span>
  <span class="p-Indicator">-</span> <span class="p-Indicator">{</span><span class="nv">given</span><span class="p-Indicator">:</span> <span class="s">&#39;I</span><span class="nv"> </span><span class="s">am</span><span class="nv"> </span><span class="s">known</span><span class="nv"> </span><span class="s">as</span><span class="nv"> </span><span class="se">&#39;&#39;&#39;&#39;</span><span class="s">&#39;</span><span class="p-Indicator">}</span>
  <span class="p-Indicator">-</span> <span class="p-Indicator">{</span><span class="nv">given</span><span class="p-Indicator">:</span> <span class="s">&#39;I</span><span class="nv"> </span><span class="s">am</span><span class="nv"> </span><span class="se">&#39;&#39;&#39;&#39;</span><span class="s">&#39;</span><span class="p-Indicator">}</span>
  <span class="p-Indicator">-</span> <span class="p-Indicator">{</span><span class="nv">given</span><span class="p-Indicator">:</span> <span class="s">&#39;I</span><span class="nv"> </span><span class="s">have</span><span class="nv"> </span><span class="s">a</span><span class="nv"> </span><span class="se">&#39;&#39;&#39;&#39;</span><span class="s">&#39;</span><span class="p-Indicator">}</span>
  <span class="p-Indicator">-</span> <span class="p-Indicator">{</span><span class="nv">given</span><span class="p-Indicator">:</span> <span class="s">&#39;I</span><span class="nv"> </span><span class="s">have</span><span class="nv"> </span><span class="s">my</span><span class="nv"> </span><span class="se">&#39;&#39;&#39;&#39;</span><span class="s">&#39;</span><span class="p-Indicator">}</span>
  <span class="p-Indicator">-</span> <span class="p-Indicator">{</span><span class="nv">given</span><span class="p-Indicator">:</span> <span class="s">&#39;I</span><span class="nv"> </span><span class="s">have</span><span class="nv"> </span><span class="s">a</span><span class="nv"> </span><span class="s">valid</span><span class="nv"> </span><span class="se">&#39;&#39;&#39;&#39;</span><span class="s">&#39;</span><span class="p-Indicator">}</span>
  <span class="p-Indicator">-</span> <span class="p-Indicator">{</span><span class="nv">given</span><span class="p-Indicator">:</span> <span class="s">&#39;I</span><span class="nv"> </span><span class="s">have</span><span class="nv"> </span><span class="s">my</span><span class="nv"> </span><span class="s">valid</span><span class="nv"> </span><span class="se">&#39;&#39;&#39;&#39;</span><span class="s">&#39;</span><span class="p-Indicator">}</span>
  <span class="p-Indicator">-</span> <span class="p-Indicator">{</span><span class="nv">given</span><span class="p-Indicator">:</span> <span class="s">&#39;I</span><span class="nv"> </span><span class="s">have</span><span class="nv"> </span><span class="s">a</span><span class="nv"> </span><span class="se">&#39;&#39;&#39;&#39;</span><span class="nv"> </span><span class="s">inside</span><span class="nv"> </span><span class="se">&#39;&#39;&#39;&#39;</span><span class="s">&#39;</span><span class="p-Indicator">}</span>
  <span class="p-Indicator">-</span> <span class="p-Indicator">{</span><span class="nv">given</span><span class="p-Indicator">:</span> <span class="s">&#39;I</span><span class="nv"> </span><span class="s">have</span><span class="nv"> </span><span class="s">a</span><span class="nv"> </span><span class="s">valid</span><span class="nv"> </span><span class="se">&#39;&#39;&#39;&#39;</span><span class="nv"> </span><span class="s">inside</span><span class="nv"> </span><span class="se">&#39;&#39;&#39;&#39;</span><span class="s">&#39;</span><span class="p-Indicator">}</span>
  <span class="p-Indicator">-</span> <span class="p-Indicator">{</span><span class="nv">given</span><span class="p-Indicator">:</span> <span class="s">&#39;I</span><span class="nv"> </span><span class="s">have</span><span class="nv"> </span><span class="s">a</span><span class="nv"> </span><span class="se">&#39;&#39;&#39;&#39;</span><span class="nv"> </span><span class="s">from</span><span class="nv"> </span><span class="se">&#39;&#39;&#39;&#39;</span><span class="s">&#39;</span><span class="p-Indicator">}</span>
  <span class="p-Indicator">-</span> <span class="p-Indicator">{</span><span class="nv">given</span><span class="p-Indicator">:</span> <span class="s">&#39;I</span><span class="nv"> </span><span class="s">have</span><span class="nv"> </span><span class="s">a</span><span class="nv"> </span><span class="s">valid</span><span class="nv"> </span><span class="se">&#39;&#39;&#39;&#39;</span><span class="nv"> </span><span class="s">from</span><span class="nv"> </span><span class="se">&#39;&#39;&#39;&#39;</span><span class="s">&#39;</span><span class="p-Indicator">}</span>
  <span class="p-Indicator">-</span> <span class="p-Indicator">{</span><span class="nv">given</span><span class="p-Indicator">:</span> <span class="s">&#39;the</span><span class="nv"> </span><span class="se">&#39;&#39;&#39;&#39;</span><span class="nv"> </span><span class="s">is</span><span class="nv"> </span><span class="s">valid&#39;</span><span class="p-Indicator">}</span>
<span class="l-Scalar-Plain">then</span><span class="p-Indicator">:</span>
  <span class="p-Indicator">-</span> <span class="p-Indicator">{</span><span class="nv">then</span><span class="p-Indicator">:</span> <span class="s">&#39;print</span><span class="nv"> </span><span class="se">&#39;&#39;&#39;&#39;</span><span class="nv"> </span><span class="se">&#39;&#39;&#39;&#39;</span><span class="s">&#39;</span><span class="p-Indicator">}</span>
  <span class="p-Indicator">-</span> <span class="p-Indicator">{</span><span class="nv">then</span><span class="p-Indicator">:</span> <span class="s">&#39;print</span><span class="nv"> </span><span class="se">&#39;&#39;&#39;&#39;</span><span class="nv"> </span><span class="se">&#39;&#39;&#39;&#39;</span><span class="nv"> </span><span class="s">as</span><span class="nv"> </span><span class="se">&#39;&#39;&#39;&#39;</span><span class="s">&#39;</span><span class="p-Indicator">}</span>
  <span class="p-Indicator">-</span> <span class="p-Indicator">{</span><span class="nv">then</span><span class="p-Indicator">:</span> <span class="s">&#39;print</span><span class="nv"> </span><span class="s">all</span><span class="nv"> </span><span class="s">data&#39;</span><span class="p-Indicator">}</span>
  <span class="p-Indicator">-</span> <span class="p-Indicator">{</span><span class="nv">then</span><span class="p-Indicator">:</span> <span class="s">&#39;print</span><span class="nv"> </span><span class="s">my</span><span class="nv"> </span><span class="s">data&#39;</span><span class="p-Indicator">}</span>
  <span class="p-Indicator">-</span> <span class="p-Indicator">{</span><span class="nv">then</span><span class="p-Indicator">:</span> <span class="s">&#39;print</span><span class="nv"> </span><span class="s">all</span><span class="nv"> </span><span class="s">my</span><span class="nv"> </span><span class="s">data&#39;</span><span class="p-Indicator">}</span>
  <span class="p-Indicator">-</span> <span class="p-Indicator">{</span><span class="nv">then</span><span class="p-Indicator">:</span> <span class="s">&#39;print</span><span class="nv"> </span><span class="s">my</span><span class="nv"> </span><span class="se">&#39;&#39;&#39;&#39;</span><span class="s">&#39;</span><span class="p-Indicator">}</span>
  <span class="p-Indicator">-</span> <span class="p-Indicator">{</span><span class="nv">then</span><span class="p-Indicator">:</span> <span class="s">&#39;print</span><span class="nv"> </span><span class="s">as</span><span class="nv"> </span><span class="se">&#39;&#39;&#39;&#39;</span><span class="nv"> </span><span class="s">my</span><span class="nv"> </span><span class="se">&#39;&#39;&#39;&#39;</span><span class="s">&#39;</span><span class="p-Indicator">}</span>
  <span class="p-Indicator">-</span> <span class="p-Indicator">{</span><span class="nv">then</span><span class="p-Indicator">:</span> <span class="s">&#39;print</span><span class="nv"> </span><span class="s">my</span><span class="nv"> </span><span class="se">&#39;&#39;&#39;&#39;</span><span class="nv"> </span><span class="s">as</span><span class="nv"> </span><span class="se">&#39;&#39;&#39;&#39;</span><span class="s">&#39;</span><span class="p-Indicator">}</span>
  <span class="p-Indicator">-</span> <span class="p-Indicator">{</span><span class="nv">then</span><span class="p-Indicator">:</span> <span class="s">&#39;print</span><span class="nv"> </span><span class="s">the</span><span class="nv"> </span><span class="se">&#39;&#39;&#39;&#39;</span><span class="s">&#39;</span><span class="p-Indicator">}</span>
  <span class="p-Indicator">-</span> <span class="p-Indicator">{</span><span class="nv">then</span><span class="p-Indicator">:</span> <span class="s">&#39;print</span><span class="nv"> </span><span class="s">as</span><span class="nv"> </span><span class="se">&#39;&#39;&#39;&#39;</span><span class="nv"> </span><span class="s">the</span><span class="nv"> </span><span class="se">&#39;&#39;&#39;&#39;</span><span class="s">&#39;</span><span class="p-Indicator">}</span>
  <span class="p-Indicator">-</span> <span class="p-Indicator">{</span><span class="nv">then</span><span class="p-Indicator">:</span> <span class="s">&#39;print</span><span class="nv"> </span><span class="s">the</span><span class="nv"> </span><span class="se">&#39;&#39;&#39;&#39;</span><span class="nv"> </span><span class="s">as</span><span class="nv"> </span><span class="se">&#39;&#39;&#39;&#39;</span><span class="s">&#39;</span><span class="p-Indicator">}</span>
  <span class="p-Indicator">-</span> <span class="p-Indicator">{</span><span class="nv">then</span><span class="p-Indicator">:</span> <span class="s">&#39;print</span><span class="nv"> </span><span class="s">as</span><span class="nv"> </span><span class="se">&#39;&#39;&#39;&#39;</span><span class="nv"> </span><span class="s">the</span><span class="nv"> </span><span class="se">&#39;&#39;&#39;&#39;</span><span class="nv"> </span><span class="s">inside</span><span class="nv"> </span><span class="se">&#39;&#39;&#39;&#39;</span><span class="s">&#39;</span><span class="p-Indicator">}</span>
  <span class="p-Indicator">-</span> <span class="p-Indicator">{</span><span class="nv">then</span><span class="p-Indicator">:</span> <span class="s">&#39;print</span><span class="nv"> </span><span class="s">the</span><span class="nv"> </span><span class="se">&#39;&#39;&#39;&#39;</span><span class="nv"> </span><span class="s">as</span><span class="nv"> </span><span class="se">&#39;&#39;&#39;&#39;</span><span class="nv"> </span><span class="s">inside</span><span class="nv"> </span><span class="se">&#39;&#39;&#39;&#39;</span><span class="s">&#39;</span><span class="p-Indicator">}</span>
</pre></div> 
						</div>
					</div>
				</div>
			</div>
		</section>
		<footer class="footer">
	<div class="content has-text-centered">
		<p>	<strong>Zenroom docs</strong> is Copyright (C) 2019 by the <a href="https://dyne.org">Dyne.org foundation</a>. The source code is licensed <a href="https://www.gnu.org/licenses/agpl-3.0.en.html">AGPLv3</a>. </p>
		<!-- <div class="columns is-gapless">
			 <div class="column is-one-fifth">
			 <img src="assets/img/eu-flag.png"></div>
			 <p class="column is-three-quarters"> -->
		
		<p>Funded by the European Unions Horizon 2020 research and
			innovation program, grant nr. 732546 (DECODE).</p>
		
		<!-- </div> -->
	</div>
</footer>
		
		   <script>

 (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
	 (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
						  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
 })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

 ga('create', 'UA-1857256-5', 'auto');
 ga('send', 'pageview');

</script> 
	</body>
</html>